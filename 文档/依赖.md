#implementation 'io.reactivex.rxjava2:rxjava:2.2.4'
#implementation 'io.reactivex.rxjava2:rxandroid:2.1.0'
#implementation 'com.squareup.retrofit2:retrofit:2.5.0'//retrofit 库

#implementation 'com.squareup.retrofit2:converter-gson:2.3.0'//转换器，请求结果转换成Model

#implementation 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'//配合Rxjava 使用

#implementation 'com.google.code.gson:gson:2.6.2'//Gson 库

#implementation 'com.android.support:design:28.0.0'

#implementation 'com.android.support:cardview-v7:28.0.0' //卡片布局

#implementation 'com.github.bumptech.glide:glide:4.8.0'  //图片加载
#annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'

          
#implementation 'org.greenrobot:eventbus:3.0.0'  //EventBus
#implementation'com.youth.banner:banner:1.4.10'


#implementation 'com.jakewharton:butterknife:8.8.1'
#annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1' //###ButterKnife依赖插件：
#implementation 'com.miguelcatalan:materialsearchview:1.4.0'
#implementation 'com.belerweb:pinyin4j:2.5.1'//汉字自动转换成拼音
#implementation'com.youth.banner:banner:1.4.10'

#implementation 'com.jakewharton:butterknife:8.8.1'
#annotationProcessor 'com.jakewharton:butterknife-compiler:8.8.1' //###ButterKnife依赖插件：
#implementation 'com.android.support:cardview-v7:27.1.1'
#implementation 'com.squareup.retrofit2:converter-gson:2.3.0'//转换器，请求结果转换成Model
#implementation 'com.android.support:design:28.0.0'
#implementation 'org.greenrobot:eventbus:3.0.0' //EventBus
#implementation 'com.facebook.fresco:fresco:1.12.1'
#implementation 'com.github.bumptech.glide:glide:4.8.0'
#annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'
#implementation 'com.miguelcatalan:materialsearchview:1.4.0'



#数据库
 
#classpath 'org.greenrobot:greendao-gradle-plugin:3.2.2' // add plugin app A

#apply plugin: 'org.greenrobot.greendao' // apply plugin

//4.初始化GreenDao配置
greendao{
    schemaVersion 1 //数据库版本号
    	daoPackage 'com.example.lenovo.gmegeeknews.dao'  //数据库全路径
    	targetGenDir 'src/main/java'  //存放位置
}

#implementation 'org.greenrobot:greendao:3.2.2' // add library

#implementation 'org.greenrobot:eventbus:3.0.0'

# implementation 'com.google.code.gson:gson:2.2.4'

# //jsoup 解析html数据
implementation 'org.jsoup:jsoup:1.11.3'

#debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.6.3'
#releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.6.3'
#// Optional, if you use support library fragments:   检测内存泄漏依赖
#debugImplementation 'com.squareup.leakcanary:leakcanary-support-fragment:1.6.3'


#implementation 'com.squareup.okhttp3:okhttp:3.12.1'
#implementation 'com.squareup:otto:1.3.8'

#implementation 'com.squareup.retrofit2:retrofit:2.5.0'

#implementation 'com.scwang.smartrefresh:SmartRefreshLayout:1.0.4-6'//SmartRefreshLayout依赖
#implementation 'com.jaeger.statusbarutil:library:1.5.1'//状态栏文字颜色














 <item
        android:id="@+id/action_search"
        app:showAsAction="always"
        android:icon="@drawable/ic_action_action_search"
        android:orderInCategory="100"
        android:title="@string/abc_search_hint" />




<FrameLayout
        android:id="@+id/toolbar_container"
        android:layout_width="match_parent"
        android:layout_height="wrap_content">

        <android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="@color/theme_primary" />

        <com.miguelcatalan.materialsearchview.MaterialSearchView
            android:id="@+id/search_view"
            android:layout_width="match_parent"
            android:layout_height="wrap_content" />
    </FrameLayout>





#上传
#public String upUrl = "http://yun918.cn/";
    #@POST("study/public/file_upload.php")
    @Multipart
    Observable<UpBean> getData1(@Part("key")RequestBody requestBody, @Part MultipartBody.Part part);

 //打开相册
    private void openAlbum() {
        Intent intent = new Intent(Intent.ACTION_PICK);
       //  intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,"image/*");
        //        startActivityForResult(intent,ALBUM_CODE);
        intent.setDataAndType(MediaStore.Images.Media.EXTERNAL_CONTENT_URI,"image/*");
        startActivityForResult(intent,ALBUM_CODE);
    }

    private void initData() {
        if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)
                == PackageManager.PERMISSION_GRANTED) {
            tackCamera();
        } else {
            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.CAMERA}, 100);
        }
    }

 @Subscribe(threadMode = ThreadMode.MAIN,sticky = true)//设置粘性广播
    public void setData(String s){
        txt.setText(s);
    }


manager = (NotificationManager) getSystemService(MainActivity.this.NOTIFICATION_SERVICE);
        String id = "1";
        String name = "2";
        if (android.os.Build.VERSION.SDK_INT >= android.os.Build.VERSION_CODES.O) {
            NotificationChannel channel = new NotificationChannel(id, name, NotificationManager.IMPORTANCE_DEFAULT);
            channel.setShowBadge(true);//设置角标
            channel.setLightColor(R.color.colorAccent);
            manager.createNotificationChannel(channel);
        }
        //创建延时意图
        intent = new Intent(this, Two_Activity.class);
        PendingIntent activity = PendingIntent.getActivity(this, 1, intent, PendingIntent.FLAG_CANCEL_CURRENT);
        Notification build = new NotificationCompat.Builder(MainActivity.this, name)
                .setSmallIcon(R.mipmap.ic_launcher)
                .setContentText("自定义内容")
                .setContentIntent(activity)
                .setAutoCancel(true)
                .setContentTitle("自定义标题")
                .build();
        manager.notify(1,build);


 private void initData() {
        if (ContextCompat.checkSelfPermission(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)==PackageManager.PERMISSION_GRANTED){
            uploadFile();
        }else{
            ActivityCompat.requestPermissions(this,new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE},1);
        }
    }

    private void uploadFile() {

        if ((Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED))){
            File sd = Environment.getExternalStorageDirectory();
            file = new File(sd, "ic_icon6.png");
        }

        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl(MyServer.url)
                .addConverterFactory(GsonConverterFactory.create())
                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())
                .build();

        MyServer myServer = retrofit.create(MyServer.class);

        //上传普通参数
        MediaType parse = MediaType.parse("application/octet-stream");
        RequestBody requestBodyStr = RequestBody.create(parse, "H1808C");

        //上传文件参数
        RequestBody requestBodyFile = RequestBody.create(MediaType.parse("image/png"), file);
        MultipartBody.Part file = MultipartBody.Part.createFormData("file", this.file.getName(),
                requestBodyFile);

        final Observable<UpLoadBean> upload = myServer.upload(requestBodyStr, file);

        upload.subscribeOn(Schedulers.io())
                .observeOn(AndroidSchedulers.mainThread())
                .subscribe(new Observer<UpLoadBean>() {
                    @Override
                    public void onSubscribe(Disposable d) {

                    }

                    @Override
                    public void onNext(UpLoadBean upLoadBean) {
                        if (upLoadBean!=null){
                            if (upLoadBean.getCode() == 200){
                                txt.setText(upLoadBean.getRes());

                                Glide.with(MainActivity.this).load(upLoadBean.getData().getUrl()).into(img);
                            }else{

                                txt.setText(upLoadBean.getRes());
                            }
                        }else{

                            txt.setText("错误");
                        }
                    }

                    @Override
                    public void onError(Throwable e) {
                        Toast.makeText(MainActivity.this,e.getMessage(),Toast.LENGTH_SHORT).show();
                    }

                    @Override
                    public void onComplete() {

                    }
                });
    }

rivate void upData() {
        //获取文件路径
        File file = new File("/storage/sdcard0/AA.jpg");
        Retrofit retrofit = new Retrofit.Builder()
                .baseUrl(MyApi.upUrl)
                .addCallAdapterFactory(RxJava2CallAdapterFactory.create())
                .addConverterFactory(GsonConverterFactory.create())
                .build();
        MyApi api = retrofit.create(MyApi.class);
        //上传参数类型
        final RequestBody body = RequestBody.create(MediaType.parse("application/octet-stream"), "www");
        //上传文件类型
        RequestBody body1 = RequestBody.create(MediaType.parse("image/jpg"), file);
        MultipartBody.Part part = MultipartBody.Part.createFormData("file", file.getName(), body1);

        Observable<UpBean> data = api.upData(body, part);